(function(){angular.module("yboxApp",["ngRoute","ngSanitize"]);function e(e,t){e.when("/",{templateUrl:"home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/article/:articleid",{templateUrl:"/articleDetail/articleDetail.view.html",controller:"articleDetailCtrl",controllerAs:"vm"}).when("/category/:categoryid/articles",{templateUrl:"home/home.view.html",controller:"categoryArticles",controllerAs:"vm"}).when("/newarticle",{templateUrl:"/newArticle/newarticle.view.html",controller:"newArticleCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});t.html5Mode(true)}angular.module("yboxApp").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("yboxApp").controller("homeCtrl",e);e.$inject=["articles"];function e(e){var t=this;t.rightContent="Feature and Advertising posts goes here";t.message="Loading article";e.getAll(10,0).success(function(e){t.message=e.length>0?"":"No articles found";t.data={articles:e}}).error(function(e){t.message="Sorry, something's gone wrong"})}})();(function(){angular.module("yboxApp").service("articles",e);e.$inject=["$http"];function e(e){this.getAll=function(t,r){return e.get("/api/articles?limit="+t+"&skip="+r)};this.addArticle=function(t){return e.post("/api/articles",t)};this.getArticleById=function(t){return e.get("/api/articles/"+t)}}})();(function(){angular.module("yboxApp").service("categories",e);e.$inject=["$http"];function e(e){this.getAll=function(){return e.get("/api/categories")};this.articles=function(t){return e.get("/api/categories/"+t+"/articles")}}})();(function(){angular.module("yboxApp").directive("footerGeneric",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/footerGeneric/footerGeneric.template.html"}}})();(function(){angular.module("yboxApp").directive("navigation",e);function e(){return{restrict:"EA",templateUrl:"/common/directives/navigation/navigation.template.html"}}})();(function(){angular.module("yboxApp").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{data:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("yboxApp").controller("articleDetailCtrl",t);t.$inject=["$routeParams","articles"];function t(t,r){var o=this;o.articleid=t.articleid;r.getArticleById(o.articleid).success(function(e){o.article=e}).error(function(t){console.log(e)});r.getAll(4,0).success(function(e){o.relatedArticles=e.filter(function(e){return e._id!=o.articleid})}).error(function(t){console.log(e)})}})();(function(){angular.module("yboxApp").controller("categoryArticles",e);e.$inject=["categories","$routeParams"];function e(e,t){var r=this;r.rightContent="Feature and Advertising posts goes here";r.message="Loading article";var o=t.categoryid;r.articles=[];e.articles(o).success(function(e){r.message=e.length>0?"":"No articles found";r.data={articles:e}}).error(function(e){r.message="Sorry, something's gone wrong"})}})();(function(){angular.module("yboxApp").controller("newArticleCtrl",t);t.$inject=["categories","articles","$location"];function t(t,r,o){var n=this;t.getAll().success(function(e){n.categories=e}).error(function(t){console.log(e)});n.onSubmit=function(){n.formError="";if(!n.formData||!n.formData.title||!n.formData.content||!n.formData.category_id||!n.formData.tags){n.formError="All fields required, please try again"}else{r.addArticle({title:n.formData.title,content:n.formData.content,category_id:n.formData.category_id,tags:n.formData.tags,user_id:"57407179956a1f9206298cab"}).success(function(e){console.log("success");o.path("/")}).error(function(e){n.formError="Your article has not been saved,there is an error, try again"});console.log(n.formData);return false}}}})();(function(){angular.module("yboxApp").controller("bodyCtrl",e);e.$inject=["categories","$rootScope"];function e(e,t){t.categories=[];e.getAll().success(function(e){t.categories=e}).error(function(e){console.log(e)})}})();